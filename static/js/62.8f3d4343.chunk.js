(this["webpackJsonpvideo-robot-app"]=this["webpackJsonpvideo-robot-app"]||[]).push([[62],{2292:function(e,t,a){"use strict";a.r(t),a.d(t,"useStyles",(function(){return K}));var n=a(16),l=a(71),r=a(0),c=a.n(r),o=a(9),i=a(93),s=a(87),m=a(124),u=a(585),p=a(587),d=a(589),f=a(580),E=a(586),h=a(92),b=a(949),g=a(747),y=a(635),j=a(636),v=a(637),O=a(638),w=a(639),x=a(570),k=a(558),C=a(521),A=a(951),N=a(564),P=a(666),S=a(523),_=a(588),T=a(605),B=a.n(T),z=a(525),F=function(e){e.actions;var t=e.selectedAction,a=(e.newAction,K());return c.a.createElement("div",{style:{marginTop:"10px"}},c.a.createElement(g.a,null,c.a.createElement(y.a,null,c.a.createElement("colgroup",null,c.a.createElement("col",{style:{width:"45%"}}),c.a.createElement("col",{style:{width:"55%"}})),c.a.createElement(j.a,{style:{backgroundColor:"#2A7AB0",color:"white"}},c.a.createElement(v.a,null,c.a.createElement(O.a,{key:"parameter",align:"center",className:a.tableCell},c.a.createElement(h.a,{style:{color:"white",fontWeight:"bold"}},"Parameter")),c.a.createElement(O.a,{key:"value",align:"center",className:a.tableCell},c.a.createElement(h.a,{style:{color:"white",fontWeight:"bold"}},"Value")))),c.a.createElement(w.a,null,t&&Object.keys(t.params).map((function(e,n){return c.a.createElement(v.a,{key:"params-"+n},c.a.createElement(O.a,{className:a.tableCell},c.a.createElement(h.a,null,e)),c.a.createElement(O.a,{className:a.tableCell},c.a.createElement(b.a,{id:"filter-"+n,autoComplete:"off",autoCorrect:"off",spellCheck:"false",variant:"outlined",value:t.params[e]||"",inputProps:{style:{margin:"auto",width:"33ch",padding:"8px 10px 7px "}}})))}))))))},H=a(213),I=a(36),J=a(611),R=a.n(J),U=a(524),W=a(612),D=function(e){return e.profilesPage},V=c.a.forwardRef((function(e,t){return c.a.createElement(i.c,Object.assign({innerRef:t},e))})),X=Object(o.d)(u.a)(z.b),q=Object(o.d)(p.a)(z.b),G=Object(o.d)(d.a)(z.b),K=Object(U.a)((function(e){return Object(f.a)({tableHead:{backgroundColor:"#2A7AB0"},listItems:{paddingBottom:"10px",marginBottom:"5px"},tableCell:{padding:"5px",borderRight:"0.5px solid lightgrey",textAlign:"center"},hovered:{backgroundColor:"rgba(0, 0, 0, 0.1)"}})}));function L(){var e=Object(I.d)(D),t=(e.profileName,e.profileActions),a=K(),o=Object(s.g)().id,i=Object(I.c)(),m=Object(r.useState)(""),u=Object(l.a)(m,2),p=u[0],d=u[1],f=Object(r.useState)([]),_=Object(l.a)(f,2),T=_[0],z=_[1],J=Object(r.useState)(T[0]),U=Object(l.a)(J,2),V=U[0],G=U[1],L=Object(r.useState)(!1),M=Object(l.a)(L,2),Q=M[0],Y=(M[1],Object(r.useState)(0)),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.f)();Object(r.useEffect)((function(){var e=W.f,t={id:o};fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:R.a.stringify(t)}).then((function(e){return e.json()})).then((function(e){d(e.profileName),z(e.actions),G(e.actions[0]),ee(0),i(Object(H.e)(e.actions)),console.log(e.actions)}))}),[o,i]),Object(r.useEffect)((function(){z(t)}),[t]);var ae=function(e){return function(){var a=t.filter((function(t,a){return a!==e}));i(Object(H.e)(a));var n=e-1<0?e:e-1,l=a[n];G(l),ee(n)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{mb:6},c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"h6"},"Profile Name:"),c.a.createElement(b.a,{value:p,style:{width:"70vh",marginTop:"5px"},variant:"outlined",size:"small",onChange:function(e){var t=e.target.value;d(t)}}))),c.a.createElement(X,{mb:6},c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"h6",style:{marginBottom:"5px"}},"Actions:"),T.length>0&&console.log(function(){var e=new Set;return T.forEach((function(t,a){e.add(t.description)})),e}()),T.length>0?T.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(g.a,{style:{width:"87vw",display:"block",overflowX:"auto",whiteSpace:"nowrap"}},c.a.createElement(y.a,{"aria-labelledby":"tableTitle",size:"medium"},c.a.createElement("colgroup",null,c.a.createElement("col",{width:"5%"}),Object.keys(e.params).map((function(e,t){return c.a.createElement("col",{key:t,width:"5%"})}))),c.a.createElement(j.a,{className:a.tableHead},c.a.createElement(v.a,null,c.a.createElement(O.a,{key:"description",align:"center",className:a.tableCell},c.a.createElement(h.a,{style:{color:"white"}},"Action")),Object.keys(e.params).map((function(e,t){return c.a.createElement(O.a,{className:a.tableCell,key:t},c.a.createElement(h.a,{style:{color:"white"}},e))})))),c.a.createElement(w.a,null,c.a.createElement(v.a,{tabIndex:-1,hover:!0},c.a.createElement(O.a,{key:"description",align:"center",className:a.tableCell},c.a.createElement(h.a,null,c.a.createElement("strong",null,e.description))),Object.keys(e.params).map((function(t,n){return c.a.createElement(O.a,{className:a.tableCell,key:n},c.a.createElement(h.a,{style:{textTransform:"capitalize"}},e.params[t]))})))))),c.a.createElement(q,{mt:10,mb:10}))})):"")),c.a.createElement(x.a,{container:!0,spacing:6},c.a.createElement(x.a,{item:!0,xs:6,style:{width:"30vw"}},c.a.createElement(X,{mb:6},c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"h6",style:{marginBottom:"5px"}},"Edit Actions:"),c.a.createElement(k.a,{dense:!0},0===T.length?c.a.createElement(h.a,null,"No actions found"):T.map((function(e,t){return c.a.createElement(C.a,{key:"actions-"+t,style:{border:"1px solid"},button:!0,onClick:function(){console.log(e),G(e),ee(t)},className:(a.listItems,V&&t===$?a.hovered:"")},c.a.createElement(h.a,null,"".concat(t+1,". ").concat(e.description)),c.a.createElement(A.a,null,c.a.createElement(N.a,{edge:"end","aria-label":"delete",color:"default",onClick:ae(t)},c.a.createElement(B.a,{color:"inherit"}))))}))),c.a.createElement(P.a,null,c.a.createElement(S.a,{size:"small",color:"primary"},"Add an Action"))))),c.a.createElement(x.a,{item:!0,xs:6,style:{width:"30vw"}},c.a.createElement(X,{mb:6},c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"h6",style:{marginBottom:"5px"}},"Parameter for action:",V?" #".concat($+1,". ").concat(V.description):""),c.a.createElement(F,{actions:T,selectedAction:V,newAction:Q}))))),c.a.createElement(X,{mb:0},c.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},c.a.createElement("div",null),c.a.createElement("aside",null,c.a.createElement(P.a,null,c.a.createElement(S.a,{size:"small",color:"primary",onClick:function(){return te.push("/admin/profiles")}},"Cancel Changes"),c.a.createElement(S.a,{size:"small",color:"primary",variant:"contained",onClick:function(){var e={data:[{profile_id:o},{profile_name:p}]};t.forEach((function(t,a){t=Object(n.a)(Object(n.a)({},t),{},{pos:a}),e.data.push(t)}));var a=JSON.stringify(e),l=W.h;fetch(l,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:a.substr(1,a.length-1)})}},"Save Profile"))))))}t.default=function(){return Object(I.d)(D).profileName,Object(I.c)(),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Helmet,{title:"Edit Profile"}),c.a.createElement(h.a,{variant:"h3",gutterBottom:!0,display:"inline"},"Edit Profile"),c.a.createElement(G,{"aria-label":"Breadcrumb",mt:2},c.a.createElement(_.a,{component:V,exact:!0,to:"/"},"Admin"),c.a.createElement(_.a,{component:V,to:"/admin/profiles"},"Profiles"),c.a.createElement(h.a,null,"Edit Profile")),c.a.createElement(q,{my:6}),c.a.createElement(x.a,{container:!0,spacing:6},c.a.createElement(x.a,{item:!0,xs:12},c.a.createElement(L,null))))}},612:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"h",(function(){return m}));var n="https://localhost/pages/resources/ajax/actions/get_actions.php",l="https://localhost/pages/resources/ajax/actions/save_action.php",r="https://localhost/pages/resources/ajax/actions/delete_action.php",c="https://localhost/pages/resources/ajax/profiles/get_profiles.php",o="https://localhost/pages/resources/ajax/profiles/clone_profile.php",i="https://localhost/pages/resources/ajax/profiles/delete_profile.php",s="https://localhost/pages/resources/ajax/profiles/get_profile_data.php",m="https://localhost/pages/resources/ajax/profiles/save_profile.php"}}]);
//# sourceMappingURL=62.8f3d4343.chunk.js.map